{"version":3,"sources":["webpack:///webpack/bootstrap 224e14d0ebdf1b953752","webpack:///./src/matrix.ts","webpack:///./src/gait_tracer.ts","webpack:///./src/main.ts","webpack:///./src/rnn.ts","webpack:///./src/tracer.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 224e14d0ebdf1b953752","export class Matrix {\n    readonly content: number[];\n    readonly shape: [number, number];\n\n    constructor(arr: number[][]) {\n        this.shape = [arr.length, arr[0].length];\n        for (let i = 0; i < this.shape[0]; ++i) {\n            if (arr[i].length != this.shape[1]) {\n                throw new Error(\"Invalid shape\");\n            }\n        }\n\n        this.content = new Array(this.shape[0] * this.shape[1]);\n        for (let i = 0; i < this.shape[0]; ++i) {\n            for (let j = 0; j < this.shape[1]; ++j) {\n                this.set(i, j, arr[i][j]);\n            }\n        }\n    }\n\n    private static create(shape: [number, number], callback: (index: [number, number]) => number) {\n        let arr = Matrix.createArray2D(shape, callback);\n        return new Matrix(arr);\n    }\n\n    static eye(shape: [number, number]): Matrix {\n        return Matrix.create(shape, (index) => { return index[0] === index[1] ? 1 : 0; })\n    }\n\n    static zeros(shape: [number, number]): Matrix {\n        return Matrix.create(shape, () => { return 0; })\n    }\n\n    static ones(shape: [number, number]): Matrix {\n        return Matrix.create(shape, () => { return 1; })\n    }\n\n    static full(shape: [number, number], val: number): Matrix {\n        return Matrix.create(shape, () => { return val; })\n    }\n\n    static random(shape: [number, number], max: number, min: number): Matrix {\n        return Matrix.create(shape, () => { return min + Math.random() * (max - min); })\n    }\n\n    static tanh(mat: Matrix): Matrix {\n        return mat.map((val) => { return (Math.exp(val) - Math.exp(-val)) / (Math.exp(val) + Math.exp(-val)); });\n    }\n\n    static tanh_d(mat: Matrix): Matrix {\n        return Matrix.pow(Matrix.tanh(mat), 2).neg().add(1);\n    }\n\n\n    static sigmoid(mat: Matrix): Matrix {\n        return mat.map((val) => { return 1 / (1 + Math.exp(-val)); });\n    }\n\n    static sigmoid_d(mat: Matrix): Matrix {\n        return Matrix.sigmoid(mat).multiply(Matrix.sigmoid(mat).neg().add(1));\n    }\n\n    static exp(mat: Matrix): Matrix {\n        return mat.map((val) => { return Math.exp(val); });\n    }\n\n    static pow(mat: Matrix, n: number): Matrix {\n        return mat.map((val) => { return Math.pow(val, n); });\n    }\n\n    static sum(mat: Matrix, axis?: number): number {\n        if (axis) {\n            throw new Error(\"not implemented\");\n        } else {\n            let sum = 0;\n            for (let i = 0; i < mat.shape[0]; ++i) {\n                for (let j = 0; j < mat.shape[1]; ++j) {\n                    sum += mat.get(i, j);\n                }\n            }\n            return sum;\n        }\n    }\n\n    static mean(mat: Matrix, axis?: number): number {\n        if (axis) {\n            throw new Error(\"not implemented\");\n        } else {\n            let sum = 0;\n            for (let i = 0; i < mat.shape[0]; ++i) {\n                let subsum = 0;\n                for (let j = 0; j < mat.shape[1]; ++j) {\n                    subsum += mat.get(i, j);\n                }\n                sum += subsum / mat.shape[1];\n            }\n            return sum / mat.shape[1];\n        }\n    }\n\n    static argmax(mat: Matrix, axis: number): Matrix {\n        if (axis === 0) {\n            return Matrix.create([1, mat.shape[1]], (index) => {\n                let ret = 0;\n                for (let i = 1; i < mat.shape[0]; ++i) { // for each row\n                    ret = mat.get(i, index[1]) > mat.get(ret, index[1]) ? i : ret;\n                }\n                return ret;\n            });\n        } else if (axis === 1) {\n            return Matrix.create([mat.shape[0], 1], (index) => {\n                let ret = 0;\n                for (let j = 1; j < mat.shape[1]; ++j) { // for each col\n                    ret = mat.get(index[0], j) > mat.get(index[0], ret) ? j : ret;\n                }\n                return ret;\n            });\n        }\n        throw new Error(\"Axis should be either 0 or 1 but get \" + axis);\n    }\n\n    static fillArray2D(shape: [number, number], val: number = 0): number[][] {\n        return Matrix.createArray2D(shape, () => { return val; });\n    }\n\n    private static createArray2D(shape: [number, number], callback?: (index: [number, number]) => number): number[][] {\n        let ret = new Array(shape[0]);\n        for (let i = 0; i < shape[0]; ++i) {\n            ret[i] = new Array(shape[1]);\n            for (let j = 0; j < shape[1]; ++j) {\n                ret[i][j] = callback ? callback([i, j]) : 0;\n            }\n        }\n        return ret;\n    }\n\n    map(callback: (val: number, index: [number, number], matrix: Matrix) => number): Matrix {\n        let arr = Matrix.createArray2D(this.shape);\n        for (let i = 0; i < this.shape[0]; ++i) {\n            for (let j = 0; j < this.shape[1]; ++j) {\n                arr[i][j] = callback(this.get(i, j), [i, j], this);\n            }\n        }\n        return new Matrix(arr);\n    }\n\n    clip(min: number, max: number): Matrix {\n        return this.map(val => {\n            return Math.max(Math.min(val, max), min);\n        })\n    }\n\n    add(other: Matrix | number): Matrix {\n        if (other instanceof Matrix) {\n            return this.map((val, index, matrix) => { return val + other.get(index); })\n        } else {\n            return this.map((val) => { return val + other; })\n        }\n    }\n\n    subtract(other: Matrix | number): Matrix {\n        if (other instanceof Matrix) {\n            return this.map((val, index, matrix) => { return val - other.get(index); })\n        } else {\n            return this.map((val) => { return val - other; })\n        }\n    }\n\n    multiply(other: Matrix | number): Matrix {\n        if (other instanceof Matrix) {\n            return this.map((val, index, matrix) => { return val * other.get(index); })\n        } else {\n            return this.map((val) => { return val * other; })\n        }\n    }\n\n    matmul(other: Matrix): Matrix {\n        if (this.shape[1] !== other.shape[0]) {\n            throw new Error(\"Matrix mismatch between \" + this.shape + \" and \" + other.shape);\n        }\n        let ret: Matrix = Matrix.zeros([this.shape[0], other.shape[1]]);\n        for (let i = 0; i < this.shape[0]; ++i) {\n            for (let j = 0; j < other.shape[1]; ++j) {\n                let el: number = 0;\n                for (let k = 0; k < other.shape[0]; ++k) {\n                    el += this.get(i, k) * other.get(k, j);\n                }\n                ret.set(i, j, el);\n            }\n        }\n        return ret;\n    }\n\n    transpose(): Matrix {\n        let ret = Matrix.zeros([this.shape[1], this.shape[0]]);\n        return ret.map((val, index) => {\n            return this.get(index[1], index[0]);\n        });\n    }\n\n    neg(): Matrix {\n        return this.map((val) => {\n            return -val;\n        });\n    }\n\n    get(i: number, j: number): number;\n    get(i: [number, number]):number;\n    get(i: number | [number, number], j?: number): number {\n        let offset;\n        if (typeof i === 'number' && typeof j === 'number') {\n            offset = i * this.shape[1] + j;\n        } else {\n            offset = (<[number, number]>i)[0] * this.shape[1] + (<[number, number]>i)[1];\n        }\n        if (offset >= this.content.length) {\n            throw new Error(\"Index \" + [i, j] + \" out range\");\n        }\n        return this.content[offset];\n    }\n\n    row(n: number): Matrix {\n        if (n < 0) n += this.shape[0];\n        return Matrix.create([1, this.shape[1]], index => {\n            return this.get(n, index[1]);\n        });\n    }\n\n    col(n: number): Matrix {\n        if (n < 0) n += this.shape[1];\n        return Matrix.create([this.shape[0], 1], index => {\n            return this.get(index[0], n);\n        });\n    }\n\n    slice(n: number, axis: number) {\n        if (axis !== 0 && axis != 1) {\n            throw new Error(\"Axis should be either 0 or 1\" + n);\n        } else if (axis === 0) {\n            return this.row(n);\n        } else {\n            return this.col(n);\n        }\n    }\n\n    setRow(n: number, mat: Matrix): void {\n        if (mat.shape[0] !== 1 || mat.shape[1] !== this.shape[1]) {\n            throw new Error(\"Column mismatch between \" + this.shape[1] + \" and \" + mat.shape[1]);\n        }\n        for (let j = 0; j < mat.shape[1]; ++j) {\n            this.set(n, j, mat.get(0, j));\n        }\n    }\n\n    setCol(n: number, mat: Matrix): void {\n        if (mat.shape[1] !== 1 || mat.shape[0] !== this.shape[0]) {\n            throw new Error(\"Row mismatch between \" + this.shape[0] + \" and \" + mat.shape[0]);\n        }\n        for (let i = 0; i < mat.shape[0]; ++i) {\n            this.set(i, n, mat.get(i, 0));\n        }\n    }\n\n    set(i: number, j: number, val: number) {\n        this.content[i * this.shape[1] + j] = val;\n    }\n\n    toString(): string {\n        let ret = '[\\n';\n        for (let i = 0; i < this.shape[0]; ++i) {\n            ret += i === 0 ? '[' : '\\n[';\n            for (let j = 0; j < this.shape[1]; ++j) {\n                if (j === 0) {\n                    ret += this.get(i, j).toFixed(2);\n                } else {\n                    ret += ', ' + this.get(i, j).toFixed(2);\n                }\n            }\n            ret += ']';\n        }\n        ret += '\\n]';\n        return ret;\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/matrix.ts","import { Matrix } from \"./matrix\";\nimport { RNN } from \"./rnn\";\nimport { Tracer } from \"./tracer\";\n\nexport class GaitTracer extends Tracer {\n    private acceleration: number[]\n\n    eta: number\n    target: number[]\n    output: number[]\n\n    constructor(series_len: number, hidden_dim: number, output_dim: number) {\n        super(series_len, 3, hidden_dim, output_dim);\n\n        window.addEventListener('devicemotion', (event) => {\n            if (event.acceleration) {\n                this.acceleration = [event.acceleration.x || 0, event.acceleration.y || 0, event.acceleration.z || 0];\n            }\n        });\n\n        this.eta = 0.3;\n\n        this.target = [];\n        this.output = [];\n    }\n\n    run(deltaTime: number, callback: (acceleration: number[], target: number[], output: number[], loss: number) => void) {\n        setInterval(() => {\n            this.output = super.tick(this.acceleration, this.target, this.eta);\n            callback(this.acceleration, this.target, this.output, this.loss);\n        }, deltaTime);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/gait_tracer.ts","import { GaitTracer } from \"./gait_tracer\";\n\n(() => {\n\n    let cvs = document.getElementById('cvs');\n    let ctx = cvs.getContext('2d');\n\n    let WIDTH = Math.min(window.innerWidth, window.innerHeight) * 0.8;\n    let HEIGHT = WIDTH;\n    let UNIT = WIDTH / 400;\n    let RADIUS = 10 * UNIT;\n\n    cvs.setAttribute('width', WIDTH.toString());\n    cvs.setAttribute('height', HEIGHT.toString());\n\n    function drawPoint(x: number, y: number) {\n        ctx.beginPath();\n        ctx.arc(x, y, RADIUS, 0, 2 * Math.PI);\n        ctx.fill();\n    };\n\n    function clear() {\n        ctx.fillStyle = '#FFF731';\n        ctx.fillRect(0, 0, WIDTH, HEIGHT);\n    }\n\n    function getCanvasPos(cvs: any, e: any) {\n        var rect = cvs.getBoundingClientRect();\n        return [e.clientX - rect.left * (cvs.width / rect.width),\n        e.clientY - rect.top * (cvs.height / rect.height)];\n    }\n\n    cvs.addEventListener(\"mouseup\", function (e) {\n        gt.target = [];\n    });\n\n    cvs.addEventListener(\"mousedown\", function (e) {\n        if (e.buttons > 0) {\n            let [x, y] = getCanvasPos(cvs, e);\n            gt.target = [x / WIDTH, y / HEIGHT];\n        }\n    });\n\n    cvs.addEventListener(\"mousemove\", function (e) {\n        if (e.buttons > 0) {\n            let [x, y] = getCanvasPos(cvs, e);\n            gt.target = [x / WIDTH, y / HEIGHT];\n        }\n    });\n\n    cvs.addEventListener(\"touchstart\", function (e) {\n        e.preventDefault();\n        let [x, y] = getCanvasPos(cvs, e.touches[0]);\n        gt.target = [x / WIDTH, y / HEIGHT];\n    });\n\n    cvs.addEventListener(\"touchmove\", function (e) {\n        e.preventDefault();\n        let [x, y] = getCanvasPos(cvs, e.touches[0]);\n        gt.target = [x / WIDTH, y / HEIGHT];\n    });\n\n    cvs.addEventListener(\"touchend\", function (e) {\n        e.preventDefault();\n        gt.target = [];\n    });\n\n    let accelerationSpan = document.getElementById('acceleration');\n    let targetSpan = document.getElementById('target');\n    let outputSpan = document.getElementById('output');\n    let lossSpan = document.getElementById('loss');\n\n    let gt = new GaitTracer(20, 50, 2);\n    gt.eta = 1e-2;\n    gt.run(50, (acceleration, target, output, loss) => {\n        clear();\n\n        if (acceleration.length > 0)\n            accelerationSpan.innerHTML = acceleration.map((val) => { return val.toFixed(2) }).join(', ');\n        if (target.length > 0)\n            targetSpan.innerHTML = target.map((val) => { return val.toFixed(2) }).join(', ');\n        if (output.length > 0)\n            outputSpan.innerHTML = output.map((val) => { return val.toFixed(2) }).join(', ');\n        if (loss)\n            lossSpan.innerHTML = loss.toFixed(2);\n\n        if (target.length == 2) {\n            ctx.fillStyle = '#00838f';\n            drawPoint(target[0] * WIDTH, target[1] * HEIGHT);\n        }\n\n        if (output.length == 2) {\n            ctx.fillStyle = '#c77800';\n            drawPoint(output[0] * WIDTH, output[1] * HEIGHT);\n        }\n    });\n\n    document.getElementById('reset-btn').onclick = () => { gt.reset(); };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Matrix } from \"./matrix\";\n\nexport class RNN {\n    private series_len: number;\n    private input_dim: number;\n    private hidden_dim: number;\n    private output_dim: number;\n\n    private Wih: Matrix;\n    private Whh: Matrix;\n    private bh: Matrix;\n    private Who: Matrix;\n    private bo: Matrix;\n\n    constructor(series_len: number, input_dim: number, hidden_dim: number, output_dim: number) {\n        this.series_len = series_len;\n        this.input_dim = input_dim;\n        this.hidden_dim = hidden_dim;\n        this.output_dim = output_dim;\n        this.reset();\n    }\n\n    reset() {\n        this.Wih = Matrix.random([this.input_dim, this.hidden_dim], -0.1, 0.1);\n        this.Whh = Matrix.random([this.hidden_dim, this.hidden_dim], -0.1, 0.1);\n        this.bh = Matrix.zeros([1, this.hidden_dim]);\n\n        this.Who = Matrix.random([this.hidden_dim, this.output_dim], -0.1, 0.1);\n        this.bo = Matrix.zeros([1, this.output_dim]);\n    }\n\n    private feedforward(inputs: Matrix, targets?: Matrix,\n        prev_state: Matrix = Matrix.zeros([1, this.hidden_dim])): [Matrix, Matrix, number] {\n\n        let states: Matrix = Matrix.zeros([inputs.shape[0] + 1, this.hidden_dim]);\n        let outputs: Matrix = Matrix.zeros([inputs.shape[0], this.output_dim]);\n        let loss = 0;\n\n        states.setRow(0, prev_state);\n\n        for (let t = 0; t < inputs.shape[0]; ++t) {\n            states.setRow(t + 1,\n                Matrix.tanh(\n                    inputs.row(t).matmul(this.Wih)\n                        .add(states.row(t).matmul(this.Whh))\n                        .add(this.bh)\n                ));\n\n            outputs.setRow(t, states.row(t + 1).matmul(this.Who).add(this.bo));\n\n            if (targets) {\n                loss += Matrix.mean(Matrix.pow(\n                    outputs.row(t).subtract(targets.row(t)),\n                    2\n                ));\n            }\n        }\n        return [states, outputs, loss];\n    }\n\n    train(inputs: Matrix, targets: Matrix,\n        eta: number = 0.3, prev_state: Matrix = Matrix.zeros([1, this.hidden_dim])): number {\n        if (inputs.shape[1] !== this.input_dim\n            || targets.shape[1] !== this.output_dim\n            || prev_state.shape[1] !== this.hidden_dim\n            || inputs.shape[0] !== this.series_len\n            || targets.shape[0] !== this.series_len) {\n            throw new Error(\"Input mismatch\");\n        }\n\n        let [states, outputs, loss] = this.feedforward(inputs, targets, prev_state);\n\n        // backward\n        let dWih = Matrix.zeros([this.input_dim, this.hidden_dim]);\n        let dWhh = Matrix.zeros([this.hidden_dim, this.hidden_dim]);\n        let dbh = Matrix.zeros([1, this.hidden_dim]);\n\n        let dWho = Matrix.zeros([this.hidden_dim, this.output_dim]);\n        let dbo = Matrix.zeros([1, this.output_dim]);\n        let dhnext = Matrix.zeros([1, this.hidden_dim]);\n\n        for (let t = inputs.shape[0] - 1; t >= Math.max(inputs.shape[0] - this.series_len, 0); --t) {\n            let dout = outputs.row(t).subtract(targets.row(t)); // 1 * output_dim\n\n            dWho = dWho.add(states.row(t + 1).transpose().matmul(dout)); // hidden_dim * output_dim\n            dbo = dbo.add(dout); // 1 * output_dim\n\n            let dh = dout.matmul(this.Who.transpose()).add(dhnext);  // 1 * hidden_dim\n\n            let dhraw = Matrix.tanh_d(states.row(t + 1)).multiply(dh); // 1 * hidden_dim \n\n            dbh = dbh.add(dhraw); // 1 * hidden_dim\n            dWhh = dWhh.add(states.row(t).transpose().matmul(dhraw));\n            dWih = dWih.add(inputs.row(t).transpose().matmul(dhraw));\n\n            dhnext = dhraw.matmul(this.Whh.transpose());\n        }\n\n        this.Wih = this.Wih.subtract(dWih.clip(-2, 2).multiply(eta));\n        this.Whh = this.Whh.subtract(dWhh.clip(-2, 2).multiply(eta));\n        this.bh = this.bh.subtract(dbh.clip(-2, 2).multiply(eta));\n\n        this.Who = this.Who.subtract(dWho.clip(-2, 2).multiply(eta));\n        this.bo = this.bo.subtract(dbo.clip(-2, 2).multiply(eta));\n\n        return loss;\n    }\n\n    predict(inputs: Matrix): Matrix {\n        if (inputs.shape[1] !== this.input_dim\n            || inputs.shape[0] !== this.series_len) {\n            throw new Error(\"Input mismatch\");\n        }\n\n        let [states, outputs, loss] = this.feedforward(inputs);\n        return outputs;\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/rnn.ts","import { Matrix } from \"./matrix\";\nimport { RNN } from \"./rnn\";\n\nexport class Tracer {\n    protected rnn: RNN;\n    protected inputs_series: number[][];\n    protected target_series: number[][];\n    protected input_dim: number;\n    protected output_dim: number;\n    protected loss: number;\n\n    constructor(series_len: number, input_dim: number, hidden_dim: number, output_dim: number) {\n        this.rnn = new RNN(series_len, input_dim, hidden_dim, output_dim);\n        this.inputs_series = Matrix.fillArray2D([series_len, input_dim], 0)\n        this.target_series = Matrix.fillArray2D([series_len, output_dim], 0)\n\n        this.input_dim = input_dim;\n        this.output_dim = output_dim;\n    }\n\n    tick(input: number[] = [], target: number[] = [], eta: number = 0.3) {\n        if (input.length === this.input_dim) {\n            this.inputs_series.splice(0, 1);\n            this.inputs_series.push(input);\n            if (input && target.length === this.output_dim) {\n                this.target_series.splice(0, 1);\n                this.target_series.push(target);\n                this.loss = this.rnn.train(new Matrix(this.inputs_series), new Matrix(this.target_series), eta);\n            }\n        }\n        return this.rnn.predict(new Matrix(this.inputs_series)).row(-1).content;\n    }\n\n    reset() {\n        this.rnn.reset();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracer.ts"],"sourceRoot":""}